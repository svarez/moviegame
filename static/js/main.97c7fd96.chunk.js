(this.webpackJsonpmoviegame=this.webpackJsonpmoviegame||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(20),c=n.n(a),s=n(9),i=n(11),o=n(2),u=n(15),l=n(3),d=n.n(l),h=n(8),f=void 0,j=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).catch((function(e){e.text().then((function(e){f.props.dispatch(console.log(e))}))}));case 2:return n=e.sent,e.next=5,n.json().catch((function(e){e.text().then((function(e){f.props.dispatch(console.log(e))}))}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={apiKey:"46148df4fc38413b50a6dd271e655a67",baseUrlApi:"https://api.themoviedb.org/3/",language:"en-US",methodSearchMovie:"search/movie",methodGetDetails:"movie/",methodGetRecommendations:"recommendations",methodGetSimilar:"similar",methodGetCredits:"credits",urlGetSearchMovie:function(e){return e=e||"The Godfather","".concat(this.baseUrlApi).concat(this.methodSearchMovie,"?&api_key=").concat(this.apiKey,"&query=").concat(encodeURI(e),"&language=").concat(this.language)},urlGetDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:238;return"".concat(this.baseUrlApi).concat(this.methodGetDetails).concat(e,"?&api_key=").concat(this.apiKey,"&language=").concat(this.language)},urlGetRecommendations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:238;return"".concat(this.baseUrlApi).concat(this.methodGetDetails).concat(e,"/").concat(this.methodGetRecommendations,"?&api_key=").concat(this.apiKey,"&language=").concat(this.language)},urlGetCredits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:238;return"".concat(this.baseUrlApi).concat(this.methodGetDetails).concat(e,"/").concat(this.methodGetCredits,"?&api_key=").concat(this.apiKey,"&language=").concat(this.language)},urlGetSimilar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:238;return"".concat(this.baseUrlApi).concat(this.methodGetDetails).concat(e,"/").concat(this.methodGetSimilar,"?&api_key=").concat(this.apiKey,"&language=").concat(this.language)}},p=function(e){return j(m.urlGetCredits(e))},b=function(e){return j(m.urlGetSimilar(e))},v=function(e){return j(m.urlGetRecommendations(e))},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=new Array(t),r=e.length,a=new Array(r);if(t>r)return[];for(;t--;){var c=Math.floor(Math.random()*r);n[t]=e[c in a?a[c]:c],a[c]=--r in a?a[r]:r}return n},x=function(e){var t=(new Date).getFullYear(),n=Math.min(e+5,t)-10;return new Array(10).fill().map((function(e,t){return n+t})).filter((function(t){return t!==e})).map(String)},w=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t,j(m.urlGetSearchMovie(a));case 2:return n=e.sent,r=n.results,e.abrupt("return",r.filter((function(e){return e.original_title.toLowerCase()===t.toLowerCase()})));case 5:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return _(e).then((function(e){return e}))},_=function(e){switch(Math.floor(3*Math.random())){case 0:return y(e);case 1:return N(e);case 2:return M(e);default:return y(e)}},y=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,a,c,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title,r=t.release_date,a="What year was ".concat(n," released?"),c=parseInt(r).toString(),s=x(parseInt(c)),i=[].concat(Object(u.a)(O(s,3)),[c]).sort((function(){return Math.random()-.5})),o=Object.keys(i).find((function(e){return i[e]===c})),l={title:a,answers:i,correctAnswer:o},e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,a,c,s,i,o,l,f,j,m,v,x;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.title,e.next=3,p(n);case 3:return a=e.sent,c=a.crew,s=c.find((function(e){return"Director"===e.job})),i=s.name,e.next=8,b(n);case 8:return o=e.sent,l=o.results,e.next=12,Promise.all(l.map(function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.id).then(function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.crew,e.abrupt("return",null===(n=r.find((function(e){return"Director"===e.job&&e.name!==i})))||void 0===n?void 0:n.name);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return f=e.sent,j="Who directed the movie ".concat(r,"?"),m=[].concat(Object(u.a)(O(f,3)),[i]).sort((function(){return Math.random()-.5})),v=Object.keys(m).find((function(e){return m[e]===i})),x={title:j,answers:m,correctAnswer:v},e.abrupt("return",x);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,a,c,s,i,o,l,h,f,j,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.title,e.next=3,p(n);case 3:return a=e.sent,c=a.cast,s=c[Math.floor(4*Math.random())],i=s.name,o=s.character,l=c.map((function(e){return e.name})).filter((function(e,t){return e!==i&&t<10})),h="What actor/actress plays ".concat(o," in ").concat(r,"?"),f=[].concat(Object(u.a)(O(l,3)),[i]).sort((function(){return Math.random()-.5})),j=Object.keys(f).find((function(e){return f[e]===i})),m={title:h,answers:f,correctAnswer:j},e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=Object(r.createContext)(null),G=n(1),k=function(){var e=Object(r.useContext)(A),t=e.favMovie,n=e.setFavMovie,a=e.setSelectedMovie,c=Object(o.g)(),i=Object(r.useState)(""),u=Object(s.a)(i,2),l=u[0],d=u[1],h=!t;return Object(G.jsxs)("div",{className:"intro",children:[Object(G.jsxs)("div",{className:"description",children:[Object(G.jsx)("h1",{children:"Automatic quiz generator"}),Object(G.jsx)("p",{children:"In order for us to generate the quiz you must enter the name of your favorite movie:"})]}),Object(G.jsxs)("div",{className:"form",children:[Object(G.jsxs)("form",{children:[Object(G.jsxs)("div",{className:"form__field",children:[Object(G.jsx)("input",{type:"text",className:"form__field__input",autoComplete:"off",placeholder:"Your favorite film",name:"favFilm",id:"favFilm",required:!0,value:t,onChange:function(e){n(e.target.value),d("")}}),Object(G.jsx)("label",{htmlFor:"favFilm",className:"form__field__label",children:"Your favorite film"})]}),Object(G.jsx)("button",{className:"form__button",disabled:h,onClick:function(e){e.preventDefault(),w(t).then((function(e){if(e.length>0){var n=e.reduce((function(e,t){return e.vote_count>t.vote_count?e:t}));a(n),c.replace("/quiz")}else d("We couldn't find any title with the name of ".concat(t))}))},children:"Send"})]}),l&&Object(G.jsx)("div",{className:"error-text",children:l})]})]})},S=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,v(n);case 3:return r=e.sent,a=r.results,e.abrupt("return",O(a,1)[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return{width:e+"%"}},q=function(e){var t=e.correctAnswers,n=e.totalAnswers,r=n<100?t:Math.round(100*t/n),a=n<100?n-t:100-r;return Object(G.jsxs)("div",{className:"statics",children:[Object(G.jsxs)("h3",{children:["Correct answers :",Object(G.jsxs)("span",{className:"statics__correct-answers",children:[" ",t]}),Object(G.jsxs)("span",{className:"statics__total-answers",children:[" / ",n]})]}),Object(G.jsxs)("div",{className:"percent",children:[Object(G.jsx)("div",{style:C(r),className:"percent__correct"}),Object(G.jsx)("div",{style:C(a),className:"percent__wrong"})]})]})},D=function(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),i=Object(s.a)(c,2),u=i[0],l=i[1],d=Object(r.useContext)(A).selectedMovie,h=Object(r.useRef)([]),f=Object(o.g)();!d&&f.replace("./intro");var j=Object(r.useState)({title:"",answers:[],correctAnswer:""}),m=Object(s.a)(j,2),p=m[0],b=m[1];Object(r.useEffect)((function(){d&&g(d).then((function(e){b(e)}))}),[d]);var v=function(e){l(u+1),p.correctAnswer===e.target.value?(a(n+1),h.current[e.target.value].classList.add("correct-answer")):(h.current[p.correctAnswer].classList.add("correct-answer"),h.current[e.target.value].classList.add("wrong-answer")),setTimeout((function(){b({title:"",answers:[],correctAnswer:""}),S(d).then((function(e){g(e).then((function(e){b(e)}))}))}),1500)};return Object(G.jsx)("div",{className:"quiz",children:Object(G.jsxs)("div",{className:"question",children:[Object(G.jsx)("div",{className:"fav-movie",children:Object(G.jsxs)("h2",{children:["You chose ",d.title]})}),Object(G.jsx)(q,{correctAnswers:n,totalAnswers:u}),Object(G.jsx)("div",{className:"question__title",children:Object(G.jsx)("h1",{children:p.title})}),Object(G.jsx)("div",{className:"question__answers",children:Object.keys(p.answers).map((function(e){return Object(G.jsxs)("label",{ref:function(t){return h.current[e]=t},className:"radio radio-gradient",children:[Object(G.jsxs)("span",{className:"radio__input",children:[Object(G.jsx)("input",{name:"answer",type:"radio",value:e,onChange:v}),Object(G.jsx)("span",{className:"radio__control"})]}),Object(G.jsx)("span",{className:"radio__label",children:p.answers[e]})]},p.answers[e])}))})]})})},U=function(){return Object(G.jsx)("div",{className:"header",children:Object(G.jsx)(i.b,{to:"./",children:Object(G.jsx)("h2",{children:"moviesgame."})})})},F=function(){return Object(G.jsx)(i.a,{basename:"/",children:Object(G.jsxs)("div",{className:"app-container",children:[Object(G.jsx)(U,{}),Object(G.jsx)("div",{className:"main-container",children:Object(G.jsxs)(o.d,{children:[Object(G.jsx)(o.b,{exact:!0,path:"/intro",component:k}),Object(G.jsx)(o.b,{exact:!0,path:"/quiz",component:D}),Object(G.jsx)(o.a,{to:"/intro"})]})})]})})},K=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],u=i[1];return Object(G.jsx)(A.Provider,{value:{favMovie:n,setFavMovie:a,selectedMovie:o,setSelectedMovie:u},children:Object(G.jsx)(F,{})})};n(34);c.a.render(Object(G.jsx)(K,{}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.97c7fd96.chunk.js.map